!function(e){"use strict";var a,n={namespace:"rapid_cache"},r=(e(window),e(document));n.onReady=function(){n.hideAJAXResponseTimeout=null,n.vars=e("#"+n.namespace+"-admin-bar-vars").data("json"),e("#wp-admin-bar-"+n.namespace+"-wipe > a").on("click",n.wipeCache),e("#wp-admin-bar-"+n.namespace+"-clear > a").on("click",n.clearCache),e("#wp-admin-bar-"+n.namespace+"-clear-options-wrapper .-home-url-only > a").on("click",n.clearCacheHomeUrlOnly),e("#wp-admin-bar-"+n.namespace+"-clear-options-wrapper .-current-url-only > a").on("click",n.clearCacheCurrentUrlOnly),e("#wp-admin-bar-"+n.namespace+"-clear-options-wrapper .-specific-url-only > a").on("click",n.clearCacheSpecificUrlOnly),e("#wp-admin-bar-"+n.namespace+"-clear-options-wrapper .-opcache-only > a").on("click",n.clearCacheOpCacheOnly),e("#wp-admin-bar-"+n.namespace+"-clear-options-wrapper .-transients-only > a").on("click",n.clearExpiredTransientsOnly),r.on("click","."+n.namespace+"-ajax-response",n.hideAJAXResponse)},n.wipeCache=function(a){n.preventDefault(a),n.statsData=null;var r={_wpnonce:n.vars._wpnonce};r[n.namespace]={ajaxWipeCache:"1"};var o=e("#wp-admin-bar-"+n.namespace+"-wipe > a"),s=(e("#wp-admin-bar-"+n.namespace+"-clear-options-wrapper .-label"),e("#wp-admin-bar-"+n.namespace+"-clear-options-wrapper .-options"));n.removeAJAXResponse(),o.parent().addClass("-processing"),o.add(s.find("a")).attr("disabled","disabled"),e.post(n.vars.ajaxURL,r,function(a){n.removeAJAXResponse(),o.parent().removeClass("-processing"),o.add(s.find("a")).removeAttr("disabled");var r=e('<div class="'+n.namespace+'-ajax-response -wipe">'+a+"</div>");e("body").append(r),n.showAJAXResponse()})},n.clearCache=function(a,r){n.preventDefault(a);var o,s=e.extend({},{urlOnly:"",opCacheOnly:!1,transientsOnly:!1},r||{}),i={_wpnonce:n.vars._wpnonce},t=!1,c=e(),p=e();s.urlOnly?(t=!0,i[n.namespace]={ajaxClearCacheUrl:s.urlOnly}):s.opCacheOnly?(t=!0,i[n.namespace]={ajaxClearOpCache:"1"}):s.transientsOnly?(t=!0,i[n.namespace]={ajaxClearExpiredTransients:"1"}):i[n.namespace]={ajaxClearCache:"1"},o=e("#wp-admin-bar-"+n.namespace+"-clear > a"),c=e("#wp-admin-bar-"+n.namespace+"-clear-options-wrapper .-label"),p=e("#wp-admin-bar-"+n.namespace+"-clear-options-wrapper  .-options"),n.removeAJAXResponse(),t&&c.length?c.addClass("-processing"):o.parent().addClass("-processing"),o.add(p.find("a")).attr("disabled","disabled"),e.post(n.vars.ajaxURL,i,function(a){n.removeAJAXResponse(),t&&c.length?c.removeClass("-processing"):o.parent().removeClass("-processing"),o.add(p.find("a")).removeAttr("disabled");var r=e('<div class="'+n.namespace+'-ajax-response -clear">'+a+"</div>");e("body").append(r),n.showAJAXResponse()})},n.clearCacheHomeUrlOnly=function(e){n.clearCache(e,{urlOnly:"home"})},n.clearCacheCurrentUrlOnly=function(e){n.clearCache(e,{urlOnly:document.URL})},n.clearCacheSpecificUrlOnly=function(a){var r=e.trim(prompt(n.vars.i18n.enterSpecificUrl,"http://"));r&&"http://"!==r?n.clearCache(a,{urlOnly:r}):n.preventDefault(a)},n.clearCacheOpCacheOnly=function(e){n.clearCache(e,{opCacheOnly:!0})},n.clearExpiredTransientsOnly=function(e){n.clearCache(e,{transientsOnly:!0})},n.showAJAXResponse=function(){clearTimeout(n.hideAJAXResponseTimeout),e("."+n.namespace+"-ajax-response").off(n.animationEndEvents).on(n.animationEndEvents,function(){n.hideAJAXResponseTimeout=setTimeout(n.hideAJAXResponse,2500)}).addClass(n.namespace+"-admin-bar-animation-zoom-in-down").show().on("mouseover",function(){clearTimeout(n.hideAJAXResponseTimeout),e(this).addClass("-hovered")})},n.hideAJAXResponse=function(a){n.preventDefault(a),clearTimeout(n.hideAJAXResponseTimeout),e("."+n.namespace+"-ajax-response").off(n.animationEndEvents).on(n.animationEndEvents,function(){n.removeAJAXResponse()}).addClass(n.namespace+"-admin-bar-animation-zoom-out-up")},n.removeAJAXResponse=function(){clearTimeout(n.hideAJAXResponseTimeout),e("."+n.namespace+"-ajax-response").off(n.animationEndEvents).remove()},n.bytesToSizeLabel=function(e,a){if("number"!=typeof e||e<=1)return 1===e?"1 byte":"0 bytes";("number"!=typeof a||a<=0)&&(a=0);var n=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,n)).toFixed(a)+" "+["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]},n.numberFormat=function(e,a){return"number"!=typeof e?String(e):(("number"!=typeof a||a<=0)&&(a=0),e.toFixed(a).replace(/./g,function(e,a,n){return a&&"."!==e&&(n.length-a)%3==0?","+e:e}))},n.escHtml=function(e){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(e).replace(/[&<>"']/g,function(e){return a[e]})},n.preventDefault=function(e,a){e&&(e.preventDefault(),a&&e.stopImmediatePropagation())},n.MutationObserver=(a=null,e.each(["","WebKit","O","Moz","Ms"],function(e,n){if(n+"MutationObserver"in window)return a=window[n+"MutationObserver"],!1}),a),n.animationEndEvents="webkitAnimationEnd mozAnimationEnd msAnimationEnd oAnimationEnd animationEnd",r.ready(n.onReady)}(jQuery);